uuid: bd1b89e3-7706-4003-80e6-b91e54c06b93
langcode: en
status: true
dependencies:
  module:
    - afrikaburn_registration
    - collapsiblock
    - node
    - php
  theme:
    - afrikaburn
third_party_settings:
  collapsiblock:
    collapse_action: '2'
id: currentregistrations
theme: afrikaburn
region: sidebar
weight: -17
provider: null
plugin: registration_block
settings:
  id: registration_block
  label: 'Current projects'
  provider: afrikaburn_registration
  label_display: visible
visibility:
  php:
    id: php
    php: "<?php \r\nuse \\Drupal\\afrikaburn_collective\\Controller\\CollectiveController;\r\nuse \\Drupal\\afrikaburn_collective\\Utils;\r\n\r\n$user = Utils::currentUser();\r\n$collective = Utils::currentCollective();\r\n\r\nreturn $collective && (\r\n  CollectiveController::hasCurrentProjects() &&\r\n  (\r\n    CollectiveController::isMember($collective, $user) || \r\n    !CollectiveController::setting($collective, 'private_projects')\r\n  )\r\n);\r\n?>"
    negate: false
    context_mapping: {  }
  node_type:
    id: node_type
    bundles:
      collective: collective
    negate: false
    context_mapping:
      node: '@node.node_route_context:node'
